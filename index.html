<!DOCTYPE html>
<html>
<head>
    <title>GTA 5 Interactieve Kaart</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        #map { height: 90vh; }
    </style>
</head>
<body>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        var map = L.map('map', {
            crs: L.CRS.Simple,
            minZoom: -2,
            maxZoom: 1
        });

        var bounds = [[0, 0], [5000, 5000]];
        var image = L.imageOverlay('gta5-map.jpg', bounds).addTo(map);

        map.fitBounds(bounds);

        // Laad opgeslagen markers uit localStorage
        var savedMarkers = JSON.parse(localStorage.getItem('markers')) || [];
        savedMarkers.forEach(function(markerData) {
            L.marker(markerData.coords).addTo(map)
             .bindPopup(markerData.popupText);
        });

        // Voeg een marker toe bij klikken op de kaart
        map.on('click', function(e) {
            var coords = [e.latlng.lat, e.latlng.lng];
            var popupText = prompt('Voer een beschrijving in voor deze marker:');
            if (popupText) {
                var marker = L.marker(coords).addTo(map)
                    .bindPopup(popupText);

                // Sla de marker op in localStorage
                savedMarkers.push({ coords: coords, popupText: popupText });
                localStorage.setItem('markers', JSON.stringify(savedMarkers));
            }
        });
    </script>
</body>
</html>
